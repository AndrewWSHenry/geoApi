<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Test Page</title>
    <style>
        .layerTile { position: absolute; }
    </style>
</head>
<body>
    <p id="mess" />
    <script src="../dist/geoapi.min.js"></script>
    <script>
        geoapi('http://js.arcgis.com/3.14/', window).then(function (api) {


            var mahLayer = new api.layer.FeatureLayer('http://section917.cloudapp.net/arcgis/rest/services/JOSM/Oilsands/MapServer/0', {id:'test1'});

            mahLayer.on('load', function(evt) {  //update-end

                //test standard attribute loading of a feature layer
                var nugget1 = api.attribs.loadLayerAttribs(mahLayer);

                console.log('feature layer result - normal case - top ', nugget1);

                nugget1["0"].getAttribs().then(
                    function (attribD) {
                        console.log('feature layer result - normal case - attrib data', attribD);
                    },
                    function (iAmError) {
                        console.log('I AM ATTRIB ERROR', iAmError);
                    }
                );
Â                
			});

        });
</script>
</body>
</html>
